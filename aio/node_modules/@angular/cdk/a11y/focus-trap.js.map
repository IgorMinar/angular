{"version":3,"sources":["../../../../src/cdk/a11y/focus-trap.ts"],"names":[],"mappings":"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","file":"focus-trap.js","sourceRoot":"","sourcesContent":["/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n\nimport {\n  Directive,\n  ElementRef,\n  Input,\n  NgZone,\n  OnDestroy,\n  AfterContentInit,\n  Injectable,\n} from '@angular/core';\nimport {coerceBooleanProperty} from '@angular/cdk/coercion';\nimport {Platform} from '@angular/cdk/platform';\nimport {first} from '@angular/cdk/rxjs';\nimport {InteractivityChecker} from './interactivity-checker';\n/**\n * Class that allows for trapping focus within a DOM element.\n * \n * NOTE: This class currently uses a very simple (naive) approach to focus trapping.\n * It assumes that the tab order is the same as DOM order, which is not necessarily true.\n * Things like tabIndex > 0, flex `order`, and shadow roots can cause to two to misalign.\n * This will be replaced with a more intelligent solution before the library is considered stable.\n */\nexport class FocusTrap {\nprivate _startAnchor: HTMLElement | null;\nprivate _endAnchor: HTMLElement | null;\n/**\n * Whether the focus trap is active.\n * @return {?}\n */\nget enabled(): boolean { return this._enabled; }\n/**\n * @param {?} val\n * @return {?}\n */\nset enabled(val: boolean) {\n    this._enabled = val;\n\n    if (this._startAnchor && this._endAnchor) {\n      this._startAnchor.tabIndex = this._endAnchor.tabIndex = this._enabled ? 0 : -1;\n    }\n  }\nprivate _enabled: boolean = true;\n/**\n * @param {?} _element\n * @param {?} _platform\n * @param {?} _checker\n * @param {?} _ngZone\n * @param {?=} deferAnchors\n */\nconstructor(\nprivate _element: HTMLElement,\nprivate _platform: Platform,\nprivate _checker: InteractivityChecker,\nprivate _ngZone: NgZone,\n    deferAnchors = false) {\n\n    if (!deferAnchors) {\n      this.attachAnchors();\n    }\n  }\n/**\n * Destroys the focus trap by cleaning up the anchors.\n * @return {?}\n */\ndestroy() {\n    if (this._startAnchor && this._startAnchor.parentNode) {\n      this._startAnchor.parentNode.removeChild(this._startAnchor);\n    }\n\n    if (this._endAnchor && this._endAnchor.parentNode) {\n      this._endAnchor.parentNode.removeChild(this._endAnchor);\n    }\n\n    this._startAnchor = this._endAnchor = null;\n  }\n/**\n * Inserts the anchors into the DOM. This is usually done automatically\n * in the constructor, but can be deferred for cases like directives with `*ngIf`.\n * @return {?}\n */\nattachAnchors(): void {\n    // If we're not on the browser, there can be no focus to trap.\n    if (!this._platform.isBrowser) {\n      return;\n    }\n\n    if (!this._startAnchor) {\n      this._startAnchor = this._createAnchor();\n    }\n\n    if (!this._endAnchor) {\n      this._endAnchor = this._createAnchor();\n    }\n\n    this._ngZone.runOutsideAngular(() => { /** @type {?} */((\n      this._startAnchor)).addEventListener('focus', () => this.focusLastTabbableElement()); /** @type {?} */((\n      this._endAnchor)).addEventListener('focus', () => this.focusFirstTabbableElement());\n\n      if (this._element.parentNode) {\n        this._element.parentNode.insertBefore( /** @type {?} */((this._startAnchor)), this._element);\n        this._element.parentNode.insertBefore( /** @type {?} */((this._endAnchor)), this._element.nextSibling);\n      }\n    });\n  }\n/**\n * Waits for the zone to stabilize, then either focuses the first element that the\n * user specified, or the first tabbable element..\n * @return {?}\n */\nfocusInitialElementWhenReady() {\n    this._executeOnStable(() => this.focusInitialElement());\n  }\n/**\n * Waits for the zone to stabilize, then focuses\n * the first tabbable element within the focus trap region.\n * @return {?}\n */\nfocusFirstTabbableElementWhenReady() {\n    this._executeOnStable(() => this.focusFirstTabbableElement());\n  }\n/**\n * Waits for the zone to stabilize, then focuses\n * the last tabbable element within the focus trap region.\n * @return {?}\n */\nfocusLastTabbableElementWhenReady() {\n    this._executeOnStable(() => this.focusLastTabbableElement());\n  }\n/**\n * Get the specified boundary element of the trapped region.\n * @param {?} bound The boundary to get (start or end of trapped region).\n * @return {?} The boundary element.\n */\nprivate _getRegionBoundary(bound: 'start' | 'end'): HTMLElement | null {\n    // Contains the deprecated version of selector, for temporary backwards comparability.\n    let /** @type {?} */ markers = /** @type {?} */(( this._element.querySelectorAll(`[cdk-focus-region-${bound}], ` +\n                                                 `[cdk-focus-${bound}]`) as NodeListOf<HTMLElement>));\n\n    for (let /** @type {?} */ i = 0; i < markers.length; i++) {\n      if (markers[i].hasAttribute(`cdk-focus-${bound}`)) {\n        console.warn(`Found use of deprecated attribute 'cdk-focus-${bound}',` +\n                     ` use 'cdk-focus-region-${bound}' instead.`, markers[i]);\n      }\n    }\n\n    if (bound == 'start') {\n      return markers.length ? markers[0] : this._getFirstTabbableElement(this._element);\n    }\n    return markers.length ?\n        markers[markers.length - 1] : this._getLastTabbableElement(this._element);\n  }\n/**\n * Focuses the element that should be focused when the focus trap is initialized.\n * @return {?}\n */\nfocusInitialElement() {\n    let /** @type {?} */ redirectToElement = /** @type {?} */(( this._element.querySelector('[cdk-focus-initial]') as HTMLElement));\n    if (redirectToElement) {\n      redirectToElement.focus();\n    } else {\n      this.focusFirstTabbableElement();\n    }\n  }\n/**\n * Focuses the first tabbable element within the focus trap region.\n * @return {?}\n */\nfocusFirstTabbableElement() {\n    let /** @type {?} */ redirectToElement = this._getRegionBoundary('start');\n    if (redirectToElement) {\n      redirectToElement.focus();\n    }\n  }\n/**\n * Focuses the last tabbable element within the focus trap region.\n * @return {?}\n */\nfocusLastTabbableElement() {\n    let /** @type {?} */ redirectToElement = this._getRegionBoundary('end');\n    if (redirectToElement) {\n      redirectToElement.focus();\n    }\n  }\n/**\n * Get the first tabbable element from a DOM subtree (inclusive).\n * @param {?} root\n * @return {?}\n */\nprivate _getFirstTabbableElement(root: HTMLElement): HTMLElement | null {\n    if (this._checker.isFocusable(root) && this._checker.isTabbable(root)) {\n      return root;\n    }\n\n    // Iterate in DOM order. Note that IE doesn't have `children` for SVG so we fall\n    // back to `childNodes` which includes text nodes, comments etc.\n    let /** @type {?} */ children = root.children || root.childNodes;\n\n    for (let /** @type {?} */ i = 0; i < children.length; i++) {\n      let /** @type {?} */ tabbableChild = children[i].nodeType === Node.ELEMENT_NODE ?\n        this._getFirstTabbableElement( /** @type {?} */((children[i] as HTMLElement))) :\n        null;\n\n      if (tabbableChild) {\n        return tabbableChild;\n      }\n    }\n\n    return null;\n  }\n/**\n * Get the last tabbable element from a DOM subtree (inclusive).\n * @param {?} root\n * @return {?}\n */\nprivate _getLastTabbableElement(root: HTMLElement): HTMLElement | null {\n    if (this._checker.isFocusable(root) && this._checker.isTabbable(root)) {\n      return root;\n    }\n\n    // Iterate in reverse DOM order.\n    let /** @type {?} */ children = root.children || root.childNodes;\n\n    for (let /** @type {?} */ i = children.length - 1; i >= 0; i--) {\n      let /** @type {?} */ tabbableChild = children[i].nodeType === Node.ELEMENT_NODE ?\n        this._getLastTabbableElement( /** @type {?} */((children[i] as HTMLElement))) :\n        null;\n\n      if (tabbableChild) {\n        return tabbableChild;\n      }\n    }\n\n    return null;\n  }\n/**\n * Creates an anchor element.\n * @return {?}\n */\nprivate _createAnchor(): HTMLElement {\n    let /** @type {?} */ anchor = document.createElement('div');\n    anchor.tabIndex = this._enabled ? 0 : -1;\n    anchor.classList.add('cdk-visually-hidden');\n    anchor.classList.add('cdk-focus-trap-anchor');\n    return anchor;\n  }\n/**\n * Executes a function when the zone is stable.\n * @param {?} fn\n * @return {?}\n */\nprivate _executeOnStable(fn: () => any): void {\n    if (this._ngZone.isStable) {\n      fn();\n    } else {\n      first.call(this._ngZone.onStable).subscribe(fn);\n    }\n  }\n}\n\nfunction FocusTrap_tsickle_Closure_declarations() {\n/** @type {?} */\nFocusTrap.prototype._startAnchor;\n/** @type {?} */\nFocusTrap.prototype._endAnchor;\n/** @type {?} */\nFocusTrap.prototype._enabled;\n/** @type {?} */\nFocusTrap.prototype._element;\n/** @type {?} */\nFocusTrap.prototype._platform;\n/** @type {?} */\nFocusTrap.prototype._checker;\n/** @type {?} */\nFocusTrap.prototype._ngZone;\n}\n\n/**\n * Factory that allows easy instantiation of focus traps.\n */\nexport class FocusTrapFactory {\n/**\n * @param {?} _checker\n * @param {?} _platform\n * @param {?} _ngZone\n */\nconstructor(\nprivate _checker: InteractivityChecker,\nprivate _platform: Platform,\nprivate _ngZone: NgZone) { }\n/**\n * @param {?} element\n * @param {?=} deferAnchors\n * @return {?}\n */\ncreate(element: HTMLElement, deferAnchors = false): FocusTrap {\n    return new FocusTrap(element, this._platform, this._checker, this._ngZone, deferAnchors);\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: InteractivityChecker, },\n{type: Platform, },\n{type: NgZone, },\n];\n}\n\nfunction FocusTrapFactory_tsickle_Closure_declarations() {\n/** @type {?} */\nFocusTrapFactory.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nFocusTrapFactory.ctorParameters;\n/** @type {?} */\nFocusTrapFactory.prototype._checker;\n/** @type {?} */\nFocusTrapFactory.prototype._platform;\n/** @type {?} */\nFocusTrapFactory.prototype._ngZone;\n}\n\n/**\n * Directive for trapping focus within a region.\n * @deprecated\n */\nexport class FocusTrapDeprecatedDirective implements OnDestroy, AfterContentInit {\n  focusTrap: FocusTrap;\n/**\n * Whether the focus trap is active.\n * @return {?}\n */\nget disabled(): boolean { return !this.focusTrap.enabled; }\n/**\n * @param {?} val\n * @return {?}\n */\nset disabled(val: boolean) {\n    this.focusTrap.enabled = !coerceBooleanProperty(val);\n  }\n/**\n * @param {?} _elementRef\n * @param {?} _focusTrapFactory\n */\nconstructor(private _elementRef: ElementRef,\nprivate _focusTrapFactory: FocusTrapFactory) {\n    this.focusTrap = this._focusTrapFactory.create(this._elementRef.nativeElement, true);\n  }\n/**\n * @return {?}\n */\nngOnDestroy() {\n    this.focusTrap.destroy();\n  }\n/**\n * @return {?}\n */\nngAfterContentInit() {\n    this.focusTrap.attachAnchors();\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: 'cdk-focus-trap',\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: FocusTrapFactory, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'disabled': [{ type: Input },],\n};\n}\n\nfunction FocusTrapDeprecatedDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nFocusTrapDeprecatedDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nFocusTrapDeprecatedDirective.ctorParameters;\n/** @type {?} */\nFocusTrapDeprecatedDirective.propDecorators;\n/** @type {?} */\nFocusTrapDeprecatedDirective.prototype.focusTrap;\n/** @type {?} */\nFocusTrapDeprecatedDirective.prototype._elementRef;\n/** @type {?} */\nFocusTrapDeprecatedDirective.prototype._focusTrapFactory;\n}\n\n/**\n * Directive for trapping focus within a region.\n */\nexport class FocusTrapDirective implements OnDestroy, AfterContentInit {\n  focusTrap: FocusTrap;\n/**\n * Whether the focus trap is active.\n * @return {?}\n */\nget enabled(): boolean { return this.focusTrap.enabled; }\n/**\n * @param {?} value\n * @return {?}\n */\nset enabled(value: boolean) { this.focusTrap.enabled = coerceBooleanProperty(value); }\n/**\n * @param {?} _elementRef\n * @param {?} _focusTrapFactory\n */\nconstructor(private _elementRef: ElementRef,\nprivate _focusTrapFactory: FocusTrapFactory) {\n    this.focusTrap = this._focusTrapFactory.create(this._elementRef.nativeElement, true);\n  }\n/**\n * @return {?}\n */\nngOnDestroy() {\n    this.focusTrap.destroy();\n  }\n/**\n * @return {?}\n */\nngAfterContentInit() {\n    this.focusTrap.attachAnchors();\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: '[cdkTrapFocus]',\n  exportAs: 'cdkTrapFocus',\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: FocusTrapFactory, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'enabled': [{ type: Input, args: ['cdkTrapFocus', ] },],\n};\n}\n\nfunction FocusTrapDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nFocusTrapDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nFocusTrapDirective.ctorParameters;\n/** @type {?} */\nFocusTrapDirective.propDecorators;\n/** @type {?} */\nFocusTrapDirective.prototype.focusTrap;\n/** @type {?} */\nFocusTrapDirective.prototype._elementRef;\n/** @type {?} */\nFocusTrapDirective.prototype._focusTrapFactory;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}